const authApiUrl="http://localhost:5000/api/auth",loginNewSupplier=async()=>{let e={nit:document.getElementById("nit").value,psw:document.getElementById("psw").value};for(let t in e)if(!e[t]){Swal.fire({icon:"error",title:"Lo sentimos",text:"Llena el NIT y la contrase\xf1a para continuar",footer:"Si el problema persiste, informa al administrador",confirmButtonText:"Entendido"});return}let o=JSON.stringify(e),i=new Headers;i.append("Content-Type","application/json");let r={method:"POST",headers:i,body:o,redirect:"follow"};try{let a=await fetch("http://localhost:5000/api/auth",r),n=await a.json();!0===n.data.isAuthenticated?Swal.fire({icon:"success",title:"\xa1Correcto!",text:"Usuario logueado, bienvenido",footer:"Si el problema persiste, informa al administrador",confirmButtonText:"Entendido",showDenyButton:!1,showCancelButton:!1}).then(e=>{e.isConfirmed?setTokenInSessionStorage(n.data.jwt,n.data.isAuthenticated):e.isDenied&&setTokenInSessionStorage(n.data.jwt,n.data.isAuthenticated)}):(console.clear(),Swal.fire({icon:"error",title:"Lo sentimos",text:"Usuario y/o contrase\xf1a incorrecta",footer:"Si el problema persiste, informa al administrador",confirmButtonText:"Entendido"}),sessionStorage.removeItem("supplierTknSession"),sessionStorage.removeItem("key"),localStorage.removeItem("supplierData"))}catch(s){console.clear(),Swal.fire({icon:"error",title:"Lo sentimos",text:"Usuario y/o contrase\xf1a incorrecta",footer:"Si el problema persiste, informa al administrador",confirmButtonText:"Entendido"}),sessionStorage.removeItem("supplierTknSession"),sessionStorage.removeItem("key"),localStorage.removeItem("supplierData")}},setTokenInSessionStorage=(e,t)=>{sessionStorage.setItem("supplierTknSession",e),sessionStorage.setItem("key",t),localStorage.setItem("supplierData",1),window.location.href="../../adapters/view/u/products"};